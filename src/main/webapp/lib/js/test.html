<html>
<head>
    <title>阿！瓦！隆！</title>
    <meta charset="utf-8">
    <script type="text/javascript" src="jquery-1.12.2.js"></script>
</head>
<body onload="createTeam()">
    <div id="teamDiv">

    </div>

<script type="text/JavaScript">
    function createTeam() {
        var $teamDiv = $("#teamDiv");
        if ($teamDiv.find("tr").length > 0) {
            return;
        }
        var title = $("<tr><td>现请您勾选如下玩家，组建队伍！</td></tr>");
        var teamTable = $("<table id='newTeam'></table>").append(title);
        for (var i = 0; i < 5; i++) {
            teamTable.append($("<label><input type='checkbox' name='team_member_num' value='" + i + "'/>" + i + "</label>"))
        }
        var postTeam = $("<input type='button' value='提交'>").bind("click", {currentLeaderNum: 0,teamMemberCount: 2}, postTeam);
        teamTable.append(postTeam);
        $teamDiv.append(teamTable);
    }

    function postTeam(event) {
        console.info(event);
        // check checkbox size must equal currentTeamNum
        var currentLeaderNum = event.data.currentLeaderNum;
        console.info(currentLeaderNum);
        var teamMemberCount = event.data.teamMemberCount;
        console.info(teamMemberCount);
        var $teamMemberNumCheck = $("input[name='team_member_num']:checked");
        console.info($teamMemberNumCheck);
        if ($teamMemberNumCheck.length != teamMemberCount) {
            alert("你只能勾选" + teamMemberCount + "个成员！");
        } else {
            var teamMemberNums = "";
            $teamMemberNumCheck.each(function () {
                teamMemberNums += ($(this).val() + ',');
            });
            $("#newTeam input").attr("disabled", "disabled");
            alert("您组建的队伍信息已提交！")
        }
    }
</script>
</body>
</html>